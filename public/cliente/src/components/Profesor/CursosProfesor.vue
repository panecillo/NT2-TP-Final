<template>

  <section class="src-components-cursos-profesor">
    
    <div class="jumbotron mt-3">
        
        <BarraSuperior/>
        <ProfesorNavbar
          :dni="this.dni" 
          :legajo="this.legajo"
        />

        <br>
 
        <h4> Cursos Asignados </h4>

        <hr>
        <br>
        Estos son los cursos que tenes asignados
        <br>
        <br>
        <hr>


        <div v-if="this.arrayCursos.length">
            <table class="table">
              <tr class="titulo">
                <th>Nombre Curso</th>
                <th>Id Curso</th>
                <th> </th>
               

              </tr>
              <tr v-for="(curso,index) in this.arrayCursos" :key="index" :class="cssEvento(index)">
                <td>{{ curso.nombrecurso }}</td>
                <td>{{ curso.idcurso }}</td>
                <td>
                  <router-link :to="`/CursoDetalles/${curso.idcurso}/${curso.nombrecurso}/${dni}/${legajo}`">
                    <a class="navbar-brand" href="#">Detalles</a>
                  </router-link>
                </td>
               
              </tr>
            </table>
          </div>
          <div v-else class="alert alert-danger">
                No se encontraron cursos asignados
          </div>


        <hr>

        <footer id="sticky-footer" class="py-4 bg-dark text-white-50">
            <div class="container text-center">
              <a class="btn btn-block btn-social btn-twitter">
                <img src="../../public/Twitter.png" width="40" height="40" border="2" hspace="4" />
                <img src="../../public/Gmail.png" width="40" height="40" border="2" hspace="4" />
                <img src="../../public/Facebook.png" width="40" height="40" border="2" hspace="4" />
              </a>
              <small>Copyright &copy; Your Website</small>
            </div>
        </footer>


    </div>

  </section>

</template>

<script lang="js">

  import BarraSuperior from "../Auxiliares/BarraSuperior.vue"
  import ProfesorNavbar from "./ProfesorNavbar.vue"

  export default  {
    name: 'src-components-cursos-profesor',
    components: {
      ProfesorNavbar,
      BarraSuperior
    },
    props: ['dni','legajo'],
    mounted () {
       
       let stringConsulta = '/api/profesor/getcursosporlegajo/' + this.legajo
       this.axios(this.$store.state.urlBackend + stringConsulta)
          .then(rta => {
              console.log(rta.data)
              this.arrayCursos = rta.data
          })
          .catch(console.log)
    },
    data () {
      return {
        arrayCursos : [],
        estadoButton : true
      }
    },
    methods: {
      cssEvento(index) {
          // Este return de un objeto es prque vue asi lo requiere, 
          // pero ponerlo ac√° queda mucho mas entendible en el codigo HTML.
          return {
              'fila-impar': (index % 2) == 0,
              'fila-par': (index % 2) != 0
          }
      },

      cssChequearEstadoButton() {
          if (this.estadoButton)
            return "margin-left: 16.5%;"
          else
            return "transition-delay: 0.3s;"
      },

      mostrarCont(estado) {
          this.estadoButton = estado
      }
    },
    computed: {

    }
}


</script>

<style scoped lang="css">
  .src-components-cursos-profesor {

  }

  .fila-impar {
      color: darkslategrey;
      background-color:rgb(184, 184, 184);
  }

  .fila-par {
      color: darkslategrey;
      background-color:rgb(212, 211, 211);
  }

  .titulo {
    color: white;
    background-color: rgb(96, 97, 97);
  }
</style>
